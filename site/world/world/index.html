
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../reference/CHANGELOG/">
      
      
        <link rel="next" href="../realm_rename_eval/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Spec - QMTL Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#qmtl-world-v1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="QMTL Documentation" class="md-header__button md-logo" aria-label="QMTL Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            QMTL Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Spec
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="QMTL Documentation" class="md-nav__button md-logo" aria-label="QMTL Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    QMTL Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MAINTENANCE_SCHEDULE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maintenance Schedule
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture & Ownership
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/dag-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DAG Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gateway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/worldservice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    World Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/controlbus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ControlBus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/lean_brokerage_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lean Brokerage Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/brokerage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Brokerage API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/implementation_todos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementation TODOs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/sdk_tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SDK Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/strategy_workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Strategy Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/backfill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backfill
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/canary_rollout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Canary Rollout
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/e2e_testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    E2E Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/activation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    World Activation Runbook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/risk_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Risk Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/timing_controls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Timing Controls
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schemas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api_world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    World API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/enhanced_validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enhanced Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/backtest_validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backtest Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/lean_like_features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lean-like Features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/brokerage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Brokerage API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/_inventory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inventory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/CHANGELOG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    World
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            World
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Spec
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Spec
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 목적과 비범위
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 핵심 개념 및 데이터
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 상태·전환(최소 사양)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-dsl" class="md-nav__link">
    <span class="md-ellipsis">
      4. 평가 정책 DSL(간결형)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 결정 알고리즘(요지)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 통합 지점(기존 기능 재사용)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. 통합 지점(기존 기능 재사용)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-worldfirst-runner-execution" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 World‑First Runner Execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-ordergate" class="md-nav__link">
    <span class="md-ellipsis">
      7. 주문 게이트(OrderGate) 설계(경량)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      8. 운영/안전장치(필수)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9. 멀티‑월드 &amp; 자원
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      10. 단계적 도입 계획(작업 명세)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. 단계적 도입 계획(작업 명세)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-runnercli" class="md-nav__link">
    <span class="md-ellipsis">
      10.1 Runner/CLI 단계적 전환(월드‑우선)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      11. 경계·원칙(정책)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-api" class="md-nav__link">
    <span class="md-ellipsis">
      12. 부록 — 예시 API/스키마(요약)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-crud" class="md-nav__link">
    <span class="md-ellipsis">
      13. 월드 레지스트리(CRUD &amp; 전역 접근)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="13. 월드 레지스트리(CRUD &amp; 전역 접근)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131" class="md-nav__link">
    <span class="md-ellipsis">
      13.1 데이터 모델(경량)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132-apirest" class="md-nav__link">
    <span class="md-ellipsis">
      13.2 API(REST, 초안)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133-cli" class="md-nav__link">
    <span class="md-ellipsis">
      13.3 CLI(서브커맨드, 초안)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#134" class="md-nav__link">
    <span class="md-ellipsis">
      13.4 전역 접근 보장
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#135" class="md-nav__link">
    <span class="md-ellipsis">
      13.5 운영 주의점
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-controlbus" class="md-nav__link">
    <span class="md-ellipsis">
      14. 이벤트 스트림(은닉 ControlBus) 핸드오버
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15" class="md-nav__link">
    <span class="md-ellipsis">
      15. 컴포넌트 관계(모듈/인터페이스 명세)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="15. 컴포넌트 관계(모듈/인터페이스 명세)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-ssot" class="md-nav__link">
    <span class="md-ellipsis">
      15.1 소유권(SSOT)과 책임
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152" class="md-nav__link">
    <span class="md-ellipsis">
      15.2 인터페이스(요약)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#153" class="md-nav__link">
    <span class="md-ellipsis">
      15.3 이벤트 타입(요약)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#154" class="md-nav__link">
    <span class="md-ellipsis">
      15.4 지연/내결함성 예산(권장)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#155" class="md-nav__link">
    <span class="md-ellipsis">
      15.5 개발 단위 매핑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#156" class="md-nav__link">
    <span class="md-ellipsis">
      15.6 상호작용 개요(다이어그램)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../realm_rename_eval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Realm Terminology Evaluation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../templates/template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Template
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 목적과 비범위
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 핵심 개념 및 데이터
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 상태·전환(최소 사양)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-dsl" class="md-nav__link">
    <span class="md-ellipsis">
      4. 평가 정책 DSL(간결형)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 결정 알고리즘(요지)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 통합 지점(기존 기능 재사용)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. 통합 지점(기존 기능 재사용)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-worldfirst-runner-execution" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 World‑First Runner Execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-ordergate" class="md-nav__link">
    <span class="md-ellipsis">
      7. 주문 게이트(OrderGate) 설계(경량)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      8. 운영/안전장치(필수)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9. 멀티‑월드 &amp; 자원
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      10. 단계적 도입 계획(작업 명세)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. 단계적 도입 계획(작업 명세)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-runnercli" class="md-nav__link">
    <span class="md-ellipsis">
      10.1 Runner/CLI 단계적 전환(월드‑우선)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      11. 경계·원칙(정책)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-api" class="md-nav__link">
    <span class="md-ellipsis">
      12. 부록 — 예시 API/스키마(요약)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-crud" class="md-nav__link">
    <span class="md-ellipsis">
      13. 월드 레지스트리(CRUD &amp; 전역 접근)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="13. 월드 레지스트리(CRUD &amp; 전역 접근)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131" class="md-nav__link">
    <span class="md-ellipsis">
      13.1 데이터 모델(경량)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132-apirest" class="md-nav__link">
    <span class="md-ellipsis">
      13.2 API(REST, 초안)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133-cli" class="md-nav__link">
    <span class="md-ellipsis">
      13.3 CLI(서브커맨드, 초안)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#134" class="md-nav__link">
    <span class="md-ellipsis">
      13.4 전역 접근 보장
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#135" class="md-nav__link">
    <span class="md-ellipsis">
      13.5 운영 주의점
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-controlbus" class="md-nav__link">
    <span class="md-ellipsis">
      14. 이벤트 스트림(은닉 ControlBus) 핸드오버
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15" class="md-nav__link">
    <span class="md-ellipsis">
      15. 컴포넌트 관계(모듈/인터페이스 명세)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="15. 컴포넌트 관계(모듈/인터페이스 명세)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-ssot" class="md-nav__link">
    <span class="md-ellipsis">
      15.1 소유권(SSOT)과 책임
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152" class="md-nav__link">
    <span class="md-ellipsis">
      15.2 인터페이스(요약)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#153" class="md-nav__link">
    <span class="md-ellipsis">
      15.3 이벤트 타입(요약)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#154" class="md-nav__link">
    <span class="md-ellipsis">
      15.4 지연/내결함성 예산(권장)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#155" class="md-nav__link">
    <span class="md-ellipsis">
      15.5 개발 단위 매핑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#156" class="md-nav__link">
    <span class="md-ellipsis">
      15.6 상호작용 개요(다이어그램)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p><a href="/">Home</a> / <a href="/world">world</a> / <a href="/world/world">world</a></p>
<h1 id="qmtl-world-v1">QMTL 월드(World) — 전략 생애주기 관리 사양 v1</h1>
<p>본 문서는 docs/world/world_todo.md와 docs/world/world_refined.md의 아이디어를 통합하여, “월드(World)”라는 알파 정제 단위를 QMTL에 무리 없이 도입하기 위한 단일 사양과 작업 명세를 제시한다. 목표는 기존 QMTL 구성요소(DAG Manager, Gateway, SDK Runner, Metrics)를 최대한 재사용하면서 정책 기반의 자동 평가·승격·강등을 제공하는 것이다. 불필요한 프레임워크 확장을 피하고, 단계적 도입이 가능하도록 설계를 최소화했다.</p>
<ul>
<li>기준 문서: ./docs/architecture/architecture.md, ./docs/architecture/gateway.md, ./docs/architecture/dag-manager.md</li>
<li>저장소 경계: qmtl/에는 재사용 가능한 유틸/노드/게이트웨이 확장만 추가한다. 전략(알파) 구현은 루트 strategies/ 폴더에 둔다.</li>
</ul>
<h2 id="1">1. 목적과 비범위</h2>
<ul>
<li>목적</li>
<li>월드(World)를 전략 상위 추상화로 두고, 정책(WorldPolicy)에 따라 전략을 평가·선정하고 실행 모드를 관리한다.</li>
<li>데이터 통화성(Data Currency), 표본 충분성, 성과 임계값, 상관/리스크 제약, 히스테리시스를 조합해 자동 승격/강등 결정을 내린다.</li>
<li>Runner의 기존 모드(backtest/dryrun/live), Gateway API, DAG Manager, SDK 메트릭을 그대로 활용한다.</li>
<li>비범위(초기 단계)</li>
<li>별도 분산 스케줄러, 신규 메시지 브로커, 신규 그래프 모델 추가는 하지 않는다.</li>
<li>전략 코드 자동 배포/프로세스 관리(런너 생성/종료)는 별도 운영 도구로 유지하고, 본 문서는 “선정/전환 계획 생성 + 활성화 게이트”에 집중한다.</li>
</ul>
<h2 id="2">2. 핵심 개념 및 데이터</h2>
<ul>
<li>World: 전략 묶음의 실행 경계를 나타내는 상위 단위. 예: <code>world_id = "crypto_mom_1h"</code>.</li>
<li>WorldPolicy(vN): 월드별 평가·선정 정책의 버전드 스냅샷. YAML로 관리하며 파서/검증기를 통해 로드.</li>
<li>StrategyInstance: 동일 전략 코드라도 파라미터/사이드/월드별 인스턴스로 관리된다.</li>
<li>Activation Table: 월드별 활성 전략 목록과 사이드·가중치 등 실행 플래그를 저장하는 경량 캐시(Redis Hash 권장).</li>
<li>Audit Log: 평가 입력 스냅샷, 결정 결과(Top‑K/승격/강등), 적용 내역(2‑Phase) 기록. 데이터베이스는 Gateway에서 이미 사용하는 백엔드(Postgres/SQLite/Memory)를 재사용한다.</li>
</ul>
<p>권장 저장 위치
- 정책 정의 파일: <code>config/worlds/&lt;world_id&gt;.yml</code>
- 활성 테이블: Redis 키 <code>world:&lt;world_id&gt;:active</code>
- 감사 로그/정책 버전: Gateway Database(기존 백엔드) 테이블 확장</p>
<h2 id="3">3. 상태·전환(최소 사양)</h2>
<ul>
<li>전략 실행 모드(Runner 기준): <code>backtest</code>, <code>dryrun</code>, <code>live</code> (SDK 이미 지원). 전환은 2‑Phase 원자성으로 계획.</li>
<li>월드 관점 상태: <code>evaluating</code>(평가 중) / <code>applying</code>(계획 적용 중) / <code>steady</code>(안정)만 추적(운영용). 복잡한 월드 FSM은 도입하지 않는다.</li>
<li>2‑Phase 전환(요지)
  1) Freeze/Drain: 주문 차단(게이트 ON) 후 대기; 필요 시 포지션 청산/이월 규칙 적용
  2) Switch: 활성 테이블 교체(Top‑K), Runner 모드 플래그 반영
  3) Unfreeze: 주문 허용(게이트 OFF)</li>
<li>모든 단계는 idempotent run_id로 추적하고 실패 시 롤백 포인트를 남긴다.</li>
</ul>
<p>노드/태그/큐 상태 등 세부 실행 상태는 DAG Manager/SDK의 정의를 그대로 따른다. (참고: ./docs/architecture/dag-manager.md)</p>
<h2 id="4-dsl">4. 평가 정책 DSL(간결형)</h2>
<p>YAML 기반으로 “게이트(Gates) → 점수(Score) → 제약(Constraints) → Top‑K → 히스테리시스(Hysteresis)”의 5단 구성을 최소 표현으로 제공한다.</p>
<pre><code class="language-yaml"># config/worlds/crypto_mom_1h.yml
world: crypto_mom_1h
version: 1

data_currency:
  max_lag: 5m        # now - data_end &lt;= 5분이면 드라이런, 아니면 백테스트부터
  min_history: 60d   # 최소 과거 기간 충족 전 지표는 참고용만
  bar_alignment: exchange_calendar

selection:
  gates:
    and:
      - sample_days &gt;= 30
      - trades_60d &gt;= 40
      - sharpe_mid &gt;= 0.60
      - max_dd_120d &lt;= 0.25
  score: &quot;sharpe_mid + 0.1*winrate_long - 0.2*ulcer_mid&quot;
  topk:
    total: 8
    by_side: { long: 5, short: 3 }
  constraints:
    correlation:
      max_pairwise: 0.8
    exposure:
      gross_budget: { long: 0.60, short: 0.40 }
      max_leverage: 3.0
      sector_cap: { per_sector: 0.30 }
  hysteresis:
    promote_after: 2     # 2회 연속 통과
    demote_after: 2
    min_dwell: 3h        # 최소 체류 시간

position_policy:
  on_promote: flat_then_enable   # 기본: 포지션 미이월
  on_demote: disable_then_flat
</code></pre>
<p>게이트 표현은 단순한 AND/OR 합성과 비교 연산으로 제한한다. 점수는 제한된 수식(화이트리스트 함수·변수)만 허용한다. 제약은 쌍상관, 익스포저 상한 등 전형 규칙부터 시작한다.</p>
<h2 id="5">5. 결정 알고리즘(요지)</h2>
<p>데이터 통화성 → 게이트 → 점수 → 제약 → Top‑K → 히스테리시스 순으로 결정한다. 아래는 의사 코드 요약이다.</p>
<pre><code class="language-python">def decide_initial_mode(now, data_end, max_lag):
    return &quot;dryrun&quot; if (now - data_end) &lt;= max_lag else &quot;backtest&quot;

def gate_metrics(m, policy):
    if m.sample_days &lt; policy.min_sample_days: return &quot;insufficient&quot;
    if m.trades_60d &lt; policy.min_trades: return &quot;insufficient&quot;
    return &quot;pass&quot; if eval_expr(policy.gates, m) else &quot;fail&quot;

def apply_hysteresis(prev, checks, h):
    dwell_ok = time_in_state(prev) &gt;= h.min_dwell
    if checks.consecutive_pass &gt;= h.promote_after and dwell_ok: return &quot;PROMOTE&quot;
    if checks.consecutive_fail &gt;= h.demote_after and dwell_ok: return &quot;DEMOTE&quot;
    return &quot;HOLD&quot;
</code></pre>
<p>지표 소스
- 성능 지표(Sharpe, MDD 등)는 전략이 노드로 산출하거나 SDK 메트릭(qmtl/sdk/metrics.py)을 연계해 Prometheus에서 수집한다.
- 표본 수·체결 수 등은 이벤트 레코더/리포지토리(예: QuestDB)에서 조회한다.</p>
<h2 id="6">6. 통합 지점(기존 기능 재사용)</h2>
<ul>
<li>Runner: 이미 <code>backtest/dryrun/live/offline</code> 지원(./qmtl/sdk/runner.py). 월드 결정 결과는 “활성화 게이트”를 통해 주문 발동을 제어한다.</li>
<li>Gateway: 제출/상태/큐 조회 API 그대로 사용(./docs/architecture/gateway.md). 월드용 얇은 엔드포인트(활성 테이블 조회/적용, 감사 기록)만 확장한다.</li>
<li>DAG Manager: NodeID/토픽, TagQuery 동작은 변경하지 않는다(./docs/architecture/dag-manager.md). 드라이런 플래그는 기존 접미사/라우팅 규칙을 따른다.</li>
<li>메트릭: SDK/Gateway/DAG Manager의 기존 Prometheus 메트릭을 재사용한다.</li>
</ul>
<h3 id="61-worldfirst-runner-execution">6.1 World‑First Runner Execution</h3>
<p>월드 정책이 “실행 모드”를 결정하도록 Runner 실행을 일원화하되, 기존 <code>--mode</code> 기반 흐름과 호환을 유지한다.</p>
<ul>
<li>CLI 확장(추가)</li>
<li><code>--world &lt;id&gt;</code>: 월드 우선 실행. 지정 시 Runner는 월드 결정을 조회하여 유효 모드를 선택한다.</li>
<li><code>--world-file &lt;path.yml&gt;</code>: 오프라인/개발 환경에서 월드 정책을 로컬로 로드해 동일한 결정을 재현.</li>
<li><code>--allow-live</code>: 월드가 <code>live</code>를 반환해도 명시적 승인 없이는 라이브 실행 금지(가드레일).</li>
<li>실행 흐름(요지)
  1) Runner가 <code>--world</code>를 받으면 Gateway <code>GET /worlds/{id}/decide</code>를 호출해 <code>effective_mode</code>와 이유/파라미터를 얻는다.
  2) <code>effective_mode</code>에 따라 기존 경로(<code>backtest_async</code>/<code>dryrun_async</code>/<code>live_async</code>)로 디스패치한다.
  3) Gateway가 불가하면 <code>--world-file</code>로 동일 결정을 로컬 계산한다. 둘 다 없으면 
     사용자가 지정한 로컬 폴백(<code>offline|backtest</code>)로 전환한다.</li>
<li>주문 게이트 상호작용</li>
<li>모드와 별개로, 주문은 <code>Activation Table</code>의 활성 여부가 <code>true</code>일 때만 발동한다.</li>
<li><code>OrderGateNode</code>는 Gateway <code>GET /worlds/{id}/activation</code> 또는 WS 신호를 구독해 활성 변경을 반영한다.</li>
<li>즉시 라이브 세계관</li>
<li>“컷오프 제한이 없는” 샘플 월드를 제공(게이트 완화, 히스테리시스/표본 최소값 낮춤). </li>
<li>그래도 <code>--allow-live</code> 플래그와 월드‑스코프 RBAC가 필요하다.</li>
<li>호환성</li>
<li>기존 <code>--mode</code>는 유지되며, <code>--world</code>와 함께 사용 시 <code>--mode=auto</code>로 간주(또는 경고 후 무시).</li>
<li>테스트/로컬 실험을 위해 <code>offline</code>/<code>backtest</code>는 계속 직접 호출 가능.</li>
</ul>
<h2 id="7-ordergate">7. 주문 게이트(OrderGate) 설계(경량)</h2>
<ul>
<li>형태: SDK 공용 ProcessingNode(예: <code>OrderGateNode</code>)</li>
<li>동작: 실행 시점에 Gateway의 활성 테이블을 조회(HTTP/WS 캐시)해 “활성=false”면 주문 메시지를 차단하거나 0 크기로 축소한다.</li>
<li>이점: 전략 코드에 최소 침습으로 게이트를 삽입할 수 있고, 월드 전환을 안전하게 2‑Phase로 진행할 수 있다.</li>
<li>위치: 주문/브로커리지 노드 앞단에 한 개만 배치. 기본 정책은 보수적(차단 우선).</li>
</ul>
<p>초기 최소 규격
- GET <code>/worlds/{world_id}/activation?strategy_id=...&amp;side=...</code> → <code>{ active: true/false, weight: 0.0~1.0 }</code>
- WS <code>worlds.activate</code> 브로드캐스트(옵션): 활성 세트/가중치 변경 시 갱신</p>
<h2 id="8">8. 운영/안전장치(필수)</h2>
<ul>
<li>데이터 통화성(최신성) 게이트: <code>now - data_end &lt;= max_lag</code> 충족 전에는 드라이런 또는 백테스트로만 실행</li>
<li>표본 충분성: 지표별 최소 일수/체결 수 충족 전 결과는 참고용</li>
<li>2‑Phase 전환: Freeze/Drain → Switch → Unfreeze, idempotent run_id</li>
<li>리스크 컷: 월드 총 드로우다운/VAR/레버리지 상한 위반 시 즉시 게이트 ON(서킷)</li>
<li>알림 규격: 승격/강등/적용 실패/지연/서킷 이벤트를 표준 알림으로 송신</li>
</ul>
<p>권장 SLO 지표(예)
- <code>world_eval_duration_ms_p95</code>, <code>world_apply_duration_ms_p95</code>
- <code>world_activation_skew_seconds</code>(게이트 반영 지연)
- <code>promotion_fail_total</code>, <code>demotion_fail_total</code></p>
<h2 id="9">9. 멀티‑월드 &amp; 자원</h2>
<ul>
<li>기본: World‑SILO(격리)로 시작한다. 추후 비용 절감을 위해 Shared 노드(공유 토픽) 도입은 선택.</li>
<li>공유 도입 시: NodeID 해시 스킴/네임스페이스로 경계 보장, Mark‑&amp;‑Sweep는 Drain을 동반한다.</li>
</ul>
<h2 id="10">10. 단계적 도입 계획(작업 명세)</h2>
<p>Phase 0 — 정책·지표 파이프 준비(무중단)
- [docs] 본 문서 추가 및 예시 정책 추가(<code>config/worlds/*.yml</code>)
- [sdk] 성과 지표 산출 노드 또는 기존 메트릭 노출 정리(샘플 전략 예제 업데이트)</p>
<p>Phase 1 — 평가 엔진(읽기 전용) + 활성 테이블
- [gateway] <code>worlds.py</code>: WorldPolicy 모델/파서/검증기(whitelist 수식), 감사 로그 스키마
- [gateway] API(읽기 전용): <code>GET /worlds/{id}/activation</code>(Redis 조회), <code>POST /worlds/{id}/evaluate</code>(dry‑run 평가→계획만 반환)
- [scripts] <code>scripts/world_eval.py</code>: 정책 로드→지표 스냅샷→결정→계획 출력(CLI)</p>
<p>Phase 2 — 2‑Phase 적용기 + 안전장치
- [gateway] 적용 API: <code>POST /worlds/{id}/apply</code>(Freeze/Drain→Switch→Unfreeze, run_id)
- [gateway] 리스크 컷·서킷 스위치(활성 테이블 즉시 OFF)
- [gateway] 알림/메트릭(승격/강등/실패/지연)</p>
<p>Phase 3 — SDK 주문 게이트(선택적)
- [sdk] <code>OrderGateNode</code> 추가: 경량 pass‑through/차단
- [examples] 게이트 삽입 예시 및 가이드 업데이트</p>
<p>Phase 4 — 멀티‑월드 최적화(선택적)
- [gateway] Shared 노드 네임스페이스/파티션 뷰, Mark‑&amp;‑Sweep with Drain</p>
<p>각 Phase는 독립 배포 가능하며, 실패 시 롤백 범위를 최소화한다.</p>
<h3 id="101-runnercli">10.1 Runner/CLI 단계적 전환(월드‑우선)</h3>
<ul>
<li>Phase R1 — 기능 추가(비파괴)</li>
<li>CLI: <code>--world</code>, <code>--world-file</code>, <code>--allow-live</code> 추가. <code>--mode</code>와 병행 지원.</li>
<li>Runner: <code>auto_async(world_id, ...)</code> 구현 → <code>GET /worlds/{id}/decide</code> 호출 후 기존 경로로 디스패치.</li>
<li>문서/예제: 월드‑우선 실행 예제와 즉시‑라이브 월드 YAML 제공.</li>
<li>Phase R2 — 기본 선택 전환(경고 기반)</li>
<li><code>--world</code> 지정 시 <code>--mode</code>는 경고 후 무시하거나 <code>auto</code>로 강제.</li>
<li>CI/예제 기본을 월드‑우선으로 전환하되, 테스트용 명시 모드는 유지.</li>
<li>Phase R3 — 하드 디폴트 변경(옵션)</li>
<li>CLI 도움말에서 모드 옵션을 후순위로 내리고, 월드‑우선 플로우를 기본으로 안내.</li>
<li><code>--mode</code>는 테스트/백필/디버깅용으로 존치(경고 메시지 노출: "--world 사용 시 --mode는 무시됩니다").</li>
</ul>
<p>로컬 결정 재현 예시</p>
<pre><code class="language-bash">qmtl run strategies.my:Alpha --world-file config/worlds/crypto_mom_1h.yml --allow-live --gateway-url http://localhost:8000
</code></pre>
<h2 id="11">11. 경계·원칙(정책)</h2>
<ul>
<li>재사용 우선: Gateway API/DB, DAG Manager, SDK Runner/메트릭을 최대한 그대로 사용</li>
<li>단순성 우선: 월드 자체 FSM을 최소화하고, 핵심은 “평가→활성 테이블→게이트”로 축소</li>
<li>보수적 기본값: 히스테리시스/쿨다운/리스크 컷을 기본 켜진 상태로 제공</li>
<li>저장소 경계 준수: qmtl/에는 공용 기능만, 전략 코드는 strategies/에 유지</li>
</ul>
<h2 id="12-api">12. 부록 — 예시 API/스키마(요약)</h2>
<p>자세한 스펙과 오류 의미, 인증 흐름은 World API Reference 문서를 참조:
- ../reference/api_world.md</p>
<p>결정(DecisionEnvelope)</p>
<pre><code class="language-http">GET /worlds/{world}/decide?as_of=2025-08-28T09:00:00Z HTTP/1.1
→ {
  &quot;world_id&quot;: &quot;crypto_mom_1h&quot;,
  &quot;policy_version&quot;: 3,
  &quot;effective_mode&quot;: &quot;dryrun&quot;,     # backtest|dryrun|live
  &quot;reason&quot;: &quot;data_currency_ok&amp;gates_pass&amp;hysteresis&quot;,
  &quot;as_of&quot;: &quot;2025-08-28T09:00:00Z&quot;,
  &quot;ttl&quot;: &quot;300s&quot;,                   # 캐시 유효 시간(권장)
  &quot;etag&quot;: &quot;w:crypto_mom_1h:v3:1724835600&quot;
}
</code></pre>
<p>활성(ActivationEnvelope)</p>
<pre><code class="language-http">GET /worlds/{world}/activation?strategy_id=abcd&amp;side=long HTTP/1.1
→ {
  &quot;world_id&quot;: &quot;crypto_mom_1h&quot;,
  &quot;strategy_id&quot;: &quot;abcd&quot;,
  &quot;side&quot;: &quot;long&quot;,
  &quot;active&quot;: true,
  &quot;weight&quot;: 1.0,
  &quot;etag&quot;: &quot;act:crypto_mom_1h:abcd:long:42&quot;,
  &quot;run_id&quot;: &quot;7a1b4c...&quot;,
  &quot;ts&quot;: &quot;2025-08-28T09:00:00Z&quot;
}
</code></pre>
<p>평가 실행(계획만)</p>
<pre><code class="language-http">POST /worlds/{world}/evaluate HTTP/1.1
{ &quot;as_of&quot;: &quot;2025-08-28T09:00:00Z&quot; }
→ { &quot;topk&quot;: [...], &quot;promote&quot;: [...], &quot;demote&quot;: [...], &quot;notes&quot;: &quot;...&quot; }
</code></pre>
<p>적용(2‑Phase)</p>
<pre><code class="language-http">POST /worlds/{world}/apply HTTP/1.1
{ &quot;run_id&quot;: &quot;...&quot;, &quot;plan&quot;: { ... } }
→ { &quot;ok&quot;: true, &quot;run_id&quot;: &quot;...&quot; }
</code></pre>
<p>이벤트 구독(은닉 ControlBus 핸드오버)</p>
<pre><code class="language-http">POST /events/subscribe HTTP/1.1
{ &quot;world_id&quot;: &quot;crypto_mom_1h&quot;, &quot;strategy_id&quot;: &quot;...&quot;, &quot;topics&quot;: [&quot;activation&quot;, &quot;queues&quot;] }
→ {
  &quot;stream_url&quot;: &quot;wss://gateway.example/ws/evt?ticket=...&quot;,  # Opaque; 내부적으로 ControlBus일 수 있음
  &quot;token&quot;: &quot;&lt;jwt&gt;&quot;,              # scope: world:*, strategy:*, topics
  &quot;topics&quot;: [&quot;activation&quot;],      # 서버가 정규화한 구독 목록
  &quot;expires_at&quot;: &quot;2025-08-28T09:30:00Z&quot;,
  &quot;fallback_url&quot;: &quot;wss://gateway.example/ws&quot;
}
</code></pre>
<hr />
<p>본 사양은 기존 시스템과 충돌 없이 단계적으로 도입되며, 첫 적용 시에는 Phase 1까지로도 “정책 평가 + 활성 테이블(읽기 전용)”을 통해 운영 검증을 시작할 수 있다. 이후 게이트/2‑Phase를 순차 반영해 자동 전환의 안정성과 재현성을 확보한다.</p>
<h2 id="13-crud">13. 월드 레지스트리(CRUD &amp; 전역 접근)</h2>
<p>월드는 전략 제출과 독립적으로 생성/수정/삭제/조회가 가능해야 하며, 프레임워크 전역에서 동일한 ID로 접근 가능해야 한다. 중앙 진실 원천(SSOT)은 WorldService의 월드 레지스트리이며, Gateway는 외부 접근을 위한 프록시/캐시 역할을 수행한다. 내부 전파는 Redis 캐시와 ControlBus(은닉) 이벤트를 사용하고, 외부에는 Gateway WS/HTTP로 노출한다.</p>
<h3 id="131">13.1 데이터 모델(경량)</h3>
<ul>
<li>worlds (DB)</li>
<li><code>world_id</code>(pk, slug), <code>name</code>, <code>description</code>, <code>owner</code>, <code>labels[]</code>,
    <code>created_at</code>, <code>updated_at</code>, <code>default_policy_version</code>, <code>state</code>(ACTIVE|SUSPENDED|DELETED),
    <code>allow_live</code>(bool, 기본 false), <code>circuit_breaker</code>(bool, 기본 false)</li>
<li>world_policies (DB)</li>
<li><code>(world_id, version)</code>(pk), <code>yaml</code>(text), <code>checksum</code>, <code>status</code>(DRAFT|ACTIVE|DEPRECATED),
    <code>created_by</code>, <code>created_at</code>, <code>valid_from</code>(옵션)</li>
<li>world_activation (Redis)</li>
<li>키: <code>world:&lt;id&gt;:active</code> → <code>{ strategy_id|side : {active, weight} }</code></li>
<li>스냅샷은 감사 로그에 주기 보관</li>
<li>world_audit_log (DB)</li>
<li><code>id</code>, <code>world_id</code>, <code>actor</code>, <code>event</code>(create/update/apply/evaluate/activate/override),
    <code>request</code>, <code>result</code>, <code>created_at</code></li>
</ul>
<p>설계 원칙: 정책 원문은 버전별로 DB에 보관하되, 장기 아카이브는 오브젝트 스토리지(S3 등)로 이관 가능. 삭제는 소프트 삭제(참조 안전성 확보).</p>
<h3 id="132-apirest">13.2 API(REST, 초안)</h3>
<ul>
<li>CRUD</li>
<li><code>POST /worlds</code> → 세계 생성 <code>{id, name, description, policy_yaml, set_default?}</code></li>
<li><code>GET /worlds</code> → 목록 필터(소유자/라벨/상태)</li>
<li><code>GET /worlds/{id}</code> → 메타 + 기본 정책 버전</li>
<li><code>DELETE /worlds/{id}</code> → 소프트 삭제(활성 세트 존재 시 실패/강제 옵션)</li>
<li><code>PUT /worlds/{id}</code> → 메타데이터 변경(name/desc/labels/allow_live)</li>
<li>정책 버전</li>
<li><code>POST /worlds/{id}/policies</code> → 새 버전 업로드 <code>{version, policy_yaml, activate?}</code></li>
<li><code>GET /worlds/{id}/policies</code> / <code>GET /worlds/{id}/policies/{v}</code></li>
<li><code>POST /worlds/{id}/set-default?v=V</code> → 기본 정책 전환(감사 로그 남김)</li>
<li>결정/활성/평가</li>
<li><code>GET /worlds/{id}/decide?as_of=...</code> → <code>{effective_mode, reason, params}</code></li>
<li><code>GET /worlds/{id}/activation?strategy_id=...&amp;side=...</code> → <code>{active, weight}</code></li>
<li><code>PUT /worlds/{id}/activation</code> → 운영자 수동 오버라이드(선택, TTL 포함)</li>
<li><code>POST /worlds/{id}/evaluate</code> → 정책 평가(계획만 반환)</li>
<li><code>POST /worlds/{id}/apply</code> → 2‑Phase 적용(run_id)</li>
<li><code>GET /worlds/{id}/audit</code> → 감사 이벤트 스트림</li>
</ul>
<p>보안: 토큰 기반 world‑scope RBAC(creator/owner, readers, operators). 민감 엔드포인트(<code>apply</code>, <code>activation PUT</code>)는 별도 권한.</p>
<h3 id="133-cli">13.3 CLI(서브커맨드, 초안)</h3>
<pre><code>qmtl world create --id crypto_mom_1h --file config/worlds/crypto_mom_1h.yml --set-default
qmtl world show crypto_mom_1h
qmtl world list --owner alice --state ACTIVE
qmtl world policy add crypto_mom_1h --file policy_v2.yml --version 2 --activate
qmtl world policy set-default crypto_mom_1h 2
qmtl world decide crypto_mom_1h --as-of 2025-08-28T09:00:00Z
qmtl world eval crypto_mom_1h | jq .
qmtl world apply crypto_mom_1h --plan plan.json --run-id $(uuidgen)
qmtl world activation get crypto_mom_1h --strategy &lt;sid&gt; --side long
qmtl world activation set crypto_mom_1h --strategy &lt;sid&gt; --side long --active=false --ttl 3600 --reason maintenance
qmtl world delete crypto_mom_1h --force
</code></pre>
<p>오프라인 지원: <code>--world-file &lt;yaml&gt;</code>로 로컬 결정을 재현하고, <code>decide/eval</code>은 로컬 파서로 동작(네트워크/DB 미사용). Runner의 <code>--world-file</code>과 동일 포맷.</p>
<h3 id="134">13.4 전역 접근 보장</h3>
<ul>
<li>SSOT는 Gateway 레지스트리. 모든 서비스/런너는 REST/WS로 조회한다.</li>
<li>캐시: Redis(키 <code>world:*</code>), 변경 시 CloudEvent(<code>world.updated</code>) 브로드캐스트로 SDK/운영 툴 동기화.</li>
<li>일관성: 변경 API는 etag/resource_version을 요구(낙관적 잠금)해 경합 업데이트 방지.</li>
</ul>
<h3 id="135">13.5 운영 주의점</h3>
<ul>
<li>삭제: 활성 전략 세트가 존재하면 기본 거부; <code>--force</code> 시 Drain + 게이트 ON 이후에만 진행.</li>
<li>롤백: 정책 버전은 언제든 <code>set-default</code>로 롤백. <code>apply</code> 실패 시 활성 테이블은 이전 스냅샷으로 복원.</li>
<li>가시성: Grafana에 World 대시보드(정책 버전, 활성 세트, 서킷 상태, 최근 알림) 제공.</li>
</ul>
<h2 id="14-controlbus">14. 이벤트 스트림(은닉 ControlBus) 핸드오버</h2>
<p>SDK는 오직 Gateway와만 통신한다. ControlBus는 내부 제어 버스이며 외부에 명시적으로 드러나지 않는다. 실행 단계에서 Gateway가 “이벤트 스트림 기술서(EventStreamDescriptor)”를 반환하고, SDK는 이를 사용해 실시간 이벤트를 푸시로 수신한다.</p>
<ul>
<li>역할 분리</li>
<li>SSOT: WorldService(세계/정책/활성), DAG Manager(그래프/큐)</li>
<li>배포/팬아웃: ControlBus(내부), 외부에는 Gateway가 단일 접점</li>
<li>EventStreamDescriptor(불투명)</li>
<li><code>stream_url</code>(wss): 게이트웨이 도메인 하의 URL. 내부 구현상 ControlBus로 프록시/리다이렉트될 수 있으나 클라이언트는 불문에 부친다.</li>
<li><code>token</code>(JWT): 구독 범위(world_id/strategy_id/topics)와 만료를 포함. SDK는 그대로 사용.</li>
<li><code>topics</code>: 서버가 정규화한 구독 주제(예: <code>activation</code>, <code>queues</code>, <code>policy</code>).</li>
<li><code>expires_at</code>: 재구독 시점 안내.</li>
<li><code>fallback_url</code>: 주 스트림 불가 시 사용. 미제공 시 HTTP 폴링 경로를 사용.</li>
<li>이벤트 타입(요약)</li>
<li>ActivationUpdated: <code>{world_id, strategy_id, side, active, weight, etag, run_id, ts}</code></li>
<li>QueueUpdated: <code>{tags[], interval, queues[], etag, ts}</code></li>
<li>PolicyUpdated: <code>{world_id, version, checksum, status, ts}</code></li>
<li>순서/중복</li>
<li>키 단위(world_id, (tags, interval))로만 순서 보장. 중복 가능 → etag/run_id로 멱등 처리.</li>
<li>실패/대체 경로</li>
<li>스트림 실패 시 Gateway WS <code>fallback_url</code> 또는 주기적 <code>GET /worlds/{id}/activation</code>/<code>/queues/by_tag</code>로 보정.</li>
<li>만료 혹은 401/403 발생 시 <code>POST /events/subscribe</code>로 재발급.</li>
<li>보안/RBAC</li>
<li>Gateway가 토큰을 발급하고 WorldService 권한을 대행 검증. 민감 토픽은 world‑scope 권한 요구.</li>
<li>SLO/관측(권장)</li>
<li><code>event_subscribe_latency_ms_p95</code> ≤ 150ms, <code>event_fanout_lag_ms_p95</code> ≤ 200ms</li>
<li>드롭/재연결/스큐 지표와 감사 로그(WorldService 원본 이벤트 ID 포함) 노출</li>
</ul>
<p>실행 흐름(요지)
1) Runner 시작 → Gateway로 전략 제출/월드 결정 조회
2) Gateway → <code>POST /events/subscribe</code> 응답으로 EventStreamDescriptor 제공
3) SDK → <code>stream_url</code>에 연결, <code>token</code>으로 인증, <code>topics</code> 구독
4) 실시간 Activation/Queue 업데이트를 수신하여 <code>OrderGateNode</code> 및 TagQueryManager에 반영</p>
<h2 id="15">15. 컴포넌트 관계(모듈/인터페이스 명세)</h2>
<p>본 절은 sdk, gateway, controlbus(은닉), worldservice, dagmanager 간의 책임·경계·인터페이스를 모듈 관점에서 명시한다.</p>
<h3 id="151-ssot">15.1 소유권(SSOT)과 책임</h3>
<ul>
<li>WorldService(SSOT)</li>
<li>월드/정책 CRUD, 버전 관리, 결정/평가/적용, 활성 테이블 관리, 감사/알림, RBAC</li>
<li>DAG Manager(SSOT)</li>
<li>그래프/노드/토픽/태그 쿼리, Diff, 버전/롤백, 큐 메타데이터</li>
<li>Gateway(프록시/캐시)</li>
<li>SDK 외부 단일 접점; 전략 제출/상태/큐 조회 프록시, 월드 API 프록시, 이벤트 스트림 발급, 캐시/서킷/관측</li>
<li>ControlBus(배포/팬아웃)</li>
<li>제어 이벤트의 내부 퍼브/섭 허브(비공개). SSOT 아님. WS/DM의 업데이트를 다수 Gateway 인스턴스로 팬아웃</li>
<li>SDK(클라이언트/런타임)</li>
<li>전략 직렬화/제출, 태그 해석, OrderGateNode로 주문 게이트, 이벤트 스트림 구독/적용</li>
</ul>
<h3 id="152">15.2 인터페이스(요약)</h3>
<ul>
<li>SDK → Gateway (HTTP)</li>
<li><code>/strategies</code>(제출), <code>/strategies/{id}/status</code>, <code>/queues/by_tag</code>, <code>/worlds/*</code>(프록시), <code>/events/subscribe</code></li>
<li>인증: 사용자 토큰(JWT)</li>
<li>Gateway → WorldService (HTTP/gRPC)</li>
<li><code>/worlds</code> CRUD, <code>/worlds/{id}/decide|activation|evaluate|apply</code>, <code>/worlds/{id}/audit</code></li>
<li>인증: 서비스 간 토큰(mTLS/JWT), world‑scope RBAC 위임</li>
<li>Gateway → DAG Manager (gRPC/HTTP)</li>
<li><code>get_queues_by_tag</code>, Diff/콜백, 센티넬 트래픽 업데이트 수신</li>
<li>WorldService → ControlBus (Publish)</li>
<li><code>ActivationUpdated</code>, <code>PolicyUpdated</code>, <code>WorldUpdated</code></li>
<li>DAG Manager → ControlBus (Publish)</li>
<li><code>QueueUpdated</code></li>
<li>Gateway → ControlBus (Subscribe)</li>
<li>WS/DM 이벤트를 수신 → SDK로 WS 재전송. 실패 시 HTTP 폴백</li>
</ul>
<h3 id="153">15.3 이벤트 타입(요약)</h3>
<ul>
<li>ActivationUpdated: <code>{world_id, strategy_id, side, active, weight, etag, run_id, ts}</code></li>
<li>QueueUpdated: <code>{tags[], interval, queues[], etag, ts}</code></li>
<li>PolicyUpdated: <code>{world_id, version, checksum, status, ts}</code></li>
</ul>
<p>모든 이벤트는 키 단위(예: <code>world_id</code>, <code>(tags, interval)</code>)로만 순서를 보장하며, 멱등키(<code>etag</code>/<code>run_id</code>)로 중복 안전성을 확보한다.</p>
<h3 id="154">15.4 지연/내결함성 예산(권장)</h3>
<ul>
<li>SDK→Gateway 제출 p95 ≤ 150ms, 큐 조회 p95 ≤ 200ms</li>
<li>이벤트 팬아웃 지연 p95 ≤ 200ms, 최대 스큐(<code>activation_skew_seconds</code>) ≤ 2s</li>
<li>Gateway 프록시 타임아웃: WS/DM 각각 독립 서킷 브레이커 적용(예: 300ms/500ms)</li>
<li>실패 기본값: 월드 결정을 못 받으면 <code>backtest|offline</code>으로 폴백, 활성 미확인 시 게이트 OFF</li>
</ul>
<h3 id="155">15.5 개발 단위 매핑</h3>
<ul>
<li>sdk/</li>
<li>Runner: <code>auto_async(world_id)</code>, <code>OrderGateNode</code>, TagQueryManager(WS/폴백)</li>
<li>gateway/</li>
<li>api: <code>/worlds/*</code> 프록시, <code>/events/subscribe</code>, ControlBus 구독자, 캐시/서킷</li>
<li>worldservice/</li>
<li>api: CRUD/Policy/Decide/Evaluate/Apply, 감사/알림, RBAC</li>
<li>dagmanager/</li>
<li>api: get_queues_by_tag, Diff, 센티넬/토픽 관리</li>
<li>controlbus/</li>
<li>control.* 토픽/채널 구성, 파티션 키, 보관/압축 정책, 관측</li>
</ul>
<h3 id="156">15.6 상호작용 개요(다이어그램)</h3>
<pre><code class="language-mermaid">graph LR
  subgraph Client
    SDK[SDK / Runner]
  end
  subgraph Edge
    GW[Gateway]
  end
  subgraph Core
    WS[WorldService (SSOT Worlds)]
    DM[DAG Manager (SSOT Graph)]
    CB[(ControlBus — internal)]
  end

  SDK -- HTTP submit/decide/activation --&gt; GW
  GW -- proxy --&gt; WS
  GW -- proxy --&gt; DM
  WS -- publish --&gt; CB
  DM -- publish --&gt; CB
  GW -- subscribe --&gt; CB
  GW -- WS (opaque) --&gt; SDK
</code></pre>
<p>상기 구조에서 ControlBus는 외부에 노출되지 않으며, SDK는 Gateway로부터 불투명 스트림을 전달받아 구독한다(§14).</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.expand", "navigation.path"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>
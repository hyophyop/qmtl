
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="QMTL Team">
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../strategy_workflow/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>SDK 사용 가이드 - QMTL Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sdk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="QMTL Documentation" class="md-header__button md-logo" aria-label="QMTL Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            QMTL Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SDK 사용 가이드
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="QMTL Documentation" class="md-nav__button md-logo" aria-label="QMTL Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    QMTL Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MAINTENANCE_SCHEDULE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maintenance Schedule
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture & Ownership
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/dag-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DAG Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gateway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/worldservice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    World Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/controlbus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ControlBus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/lean_brokerage_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lean Brokerage Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/brokerage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Brokerage API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/implementation_todos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementation TODOs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    SDK Tutorial
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    SDK Tutorial
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      설치
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      기본 구조
    </span>
  </a>
  
    <nav class="md-nav" aria-label="기본 구조">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#websocketclient" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocketClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gateway-event-subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Gateway Event Subscription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-processingnode" class="md-nav__link">
    <span class="md-ellipsis">
      Node와 ProcessingNode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      실행 모드
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    <span class="md-ellipsis">
      CLI 도움말
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      캐시 조회
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cache-backends" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Backends
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Metrics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-alpha-indicators-with-history" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Alpha Indicators with History
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alpha-to-signal-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Alpha-to-Signal Pipeline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executionmodel" class="md-nav__link">
    <span class="md-ellipsis">
      ExecutionModel과 비용 조정 성과 지표
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-results-and-external-executors" class="md-nav__link">
    <span class="md-ellipsis">
      Order Results and External Executors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      백필 작업
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../strategy_workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Strategy Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/backfill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backfill
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/canary_rollout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Canary Rollout
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/e2e_testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    E2E Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/activation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    World Activation Runbook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/risk_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Risk Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/timing_controls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Timing Controls
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schemas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api_world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    World API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/enhanced_validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enhanced Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/backtest_validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backtest Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/lean_like_features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lean-like Features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/brokerage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Brokerage API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/_inventory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inventory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/CHANGELOG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    World
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            World
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../world/world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../world/realm_rename_eval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Realm Terminology Evaluation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../templates/template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Template
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      설치
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      기본 구조
    </span>
  </a>
  
    <nav class="md-nav" aria-label="기본 구조">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#websocketclient" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocketClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gateway-event-subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Gateway Event Subscription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-processingnode" class="md-nav__link">
    <span class="md-ellipsis">
      Node와 ProcessingNode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      실행 모드
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    <span class="md-ellipsis">
      CLI 도움말
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      캐시 조회
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cache-backends" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Backends
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Metrics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-alpha-indicators-with-history" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Alpha Indicators with History
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alpha-to-signal-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Alpha-to-Signal Pipeline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executionmodel" class="md-nav__link">
    <span class="md-ellipsis">
      ExecutionModel과 비용 조정 성과 지표
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-results-and-external-executors" class="md-nav__link">
    <span class="md-ellipsis">
      Order Results and External Executors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      백필 작업
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p><a href="/">Home</a> / <a href="/guides">guides</a> / <a href="/guides/sdk_tutorial">sdk_tutorial</a>
<strong>Related:</strong> <a href="../">Overview</a>, <a href="./">SDK Tutorial</a>, <a href="../strategy_workflow/">Strategy Workflow</a></p>
<h1 id="sdk">SDK 사용 가이드</h1>
<p>본 문서는 QMTL SDK를 이용해 전략을 구현하고 실행하는 기본 절차를 소개합니다. 보다 상세한 아키텍처 설명과 예시는 <a href="../../architecture/architecture/">architecture.md</a>와 <code>qmtl/examples/</code> 디렉터리를 참고하세요.</p>
<h2 id="_1">설치</h2>
<pre><code class="language-bash">uv venv
uv pip install -e .[dev]
</code></pre>
<p>필요에 따라 데이터 IO 모듈을 설치할 수 있습니다.</p>
<pre><code class="language-bash">uv pip install -e .[io]  # 데이터 IO 모듈
</code></pre>
<h2 id="_2">기본 구조</h2>
<p>SDK를 사용하려면 <code>Strategy</code> 클래스를 상속하고 <code>setup()</code> 메서드만 구현하면 됩니다. 노드는 <code>StreamInput</code>, <code>TagQueryNode</code> 와 같은 <strong>소스 노드</strong>(<code>SourceNode</code>)와 다른 노드를 처리하는 <strong>프로세싱 노드</strong>(<code>ProcessingNode</code>)로 나뉩니다. <code>ProcessingNode</code>는 하나 이상의 업스트림을 반드시 가져야 합니다. <code>interval</code> 값은 정수 또는 <code>"1h"</code>, <code>"30m"</code>, <code>"45s"</code>처럼 단위 접미사를 가진 문자열로 지정할 수 있습니다. <code>period</code> 값은 <strong>항상 양의 정수(바 개수)</strong> 로 지정합니다. <code>TagQueryNode</code> 자체는 네트워크 요청을 수행하지 않고, Runner가 생성하는 <strong>TagQueryManager</strong>가 Gateway와 통신하여 큐 목록을 갱신합니다. 각 노드가 등록된 후 <code>TagQueryManager.resolve_tags()</code>를 호출하여 초기 큐 목록과 이벤트 설명자(event descriptor), 토큰(token)을 받아오며, 이후 업데이트는 이 설명자와 토큰을 사용해 WebSocket으로 처리됩니다. 태그 매칭 방식은 <code>match_mode</code> 옵션으로 지정하며 기본값은 OR 조건에 해당하는 <code>"any"</code> 입니다. 모든 태그가 일치해야 할 경우 <code>match_mode="all"</code>을 사용합니다.</p>
<h3 id="websocketclient">WebSocketClient</h3>
<p>Gateway 상태 변화를 실시간으로 수신하기 위한 클래스입니다. 기본 사용법은 다음과 같습니다.</p>
<pre><code class="language-python">client = WebSocketClient(&quot;ws://localhost:8000&quot;, on_message=my_handler)
</code></pre>
<p><code>url</code>은 WebSocket 엔드포인트 주소이며 <code>on_message</code>는 수신 메시지를 처리할 비동기 함수입니다. <code>start()</code>를 호출하면 백그라운드에서 연결을 유지하며 메시지를 받고, <code>stop()</code>을 호출하면 연결이 종료됩니다.</p>
<p><code>TagQueryManager</code>는 이 객체를 생성하거나 주입받아 <code>handle_message()</code>를 콜백으로 등록합니다. 각 이벤트에는 디스크립터와 토큰이 포함되며, 큐 업데이트(<code>queue_update</code>)와 센티널 가중치(<code>sentinel_weight</code>) 이벤트가 도착하면 해당 <code>TagQueryNode</code>에 <code>update_queues()</code>가 호출되고, 가중치 값은 <code>WebSocketClient.sentinel_weights</code>에 저장됩니다.</p>
<h3 id="gateway-event-subscription">Gateway Event Subscription</h3>
<p>Gateway는 <code>/events/subscribe</code> 엔드포인트를 통해 WebSocket 이벤트를 제공합니다. 실제 활성화와 큐 업데이트 이벤트는 내부 ControlBus에서 발생하며 Gateway가 이를 전달합니다. 정책과 활성화 결정에 대한 최종 권위는 WorldService에 있습니다.</p>
<p><code>ProcessingNode</code>의 <code>input</code>은 단일 노드 또는 노드들의 리스트로 지정합니다. 딕셔너리 입력 형식은 더 이상 지원되지 않습니다.</p>
<h3 id="node-processingnode">Node와 ProcessingNode</h3>
<p><code>Node</code>는 모든 노드의 기본 클래스이며, 특별한 제약이 없습니다. 반면 <code>ProcessingNode</code>는 한 개 이상의 업스트림 노드를 요구하도록 만들어져 있어 연산 노드를 구현할 때 보다 명시적인 오류 메시지를 제공합니다. 새로운 프로세싱 로직을 구현할 때는 <code>ProcessingNode</code>를 상속하는 방식을 권장합니다. 필요하지 않은 경우에는 기본 <code>Node</code>만 사용해도 동작에는 문제가 없습니다.</p>
<pre><code class="language-python">from qmtl.sdk import Strategy, ProcessingNode, StreamInput

class MyStrategy(Strategy):
    def setup(self):
        price = StreamInput(interval=&quot;1m&quot;, period=30)

        def compute(view):
            return view

        out = ProcessingNode(input=price, compute_fn=compute, name=&quot;out&quot;)
        self.add_nodes([price, out])
</code></pre>
<h2 id="_3">실행 모드</h2>
<p>전략은 <code>Runner</code> 클래스로 실행합니다. 모드는 <code>backtest</code>, <code>dryrun</code>, <code>live</code>, <code>offline</code> 네 가지가 있으며 CLI 또는 Python 코드에서 선택할 수 있습니다. 각 모드의 의미는 다음과 같습니다.</p>
<ul>
<li><strong>backtest</strong>: 과거 데이터를 재생하며 전략을 검증합니다. Gateway에 DAG을 전송하여 큐 매핑을 받아오므로 <code>--gateway-url</code>이 필수입니다.</li>
<li><strong>dryrun</strong>: Gateway와 통신하지만 실거래는 하지 않습니다. 연결 상태와 태그 매핑을 점검할 때 사용하며 역시 <code>--gateway-url</code>을 지정해야 합니다.</li>
<li><strong>live</strong>: 실시간 거래 모드로 Gateway 및 외부 서비스와 연동됩니다. 반드시 <code>--gateway-url</code>을 지정해야 합니다.</li>
<li><strong>offline</strong>: Gateway 없이 로컬에서만 실행합니다. 태그 기반 노드는 빈 큐 목록으로 초기화되며, 게이트웨이 연결이 없음을 가정한 테스트용입니다.</li>
</ul>
<pre><code class="language-bash"># 커맨드라인 예시
python -m qmtl.sdk tests.sample_strategy:SampleStrategy --mode backtest --start-time 2024-01-01 --end-time 2024-02-01 --gateway-url http://gw
python -m qmtl.sdk tests.sample_strategy:SampleStrategy --mode offline
</code></pre>
<pre><code class="language-python">from qmtl.sdk import Runner
Runner.dryrun(MyStrategy, gateway_url=&quot;http://gw&quot;)
</code></pre>
<p>과거 데이터를 재생하려면 <code>Runner.backtest()</code>에 시작 및 종료 시점을 전달합니다.</p>
<pre><code class="language-python">from qmtl.sdk import Runner
Runner.backtest(
    MyStrategy,
    start_time=&quot;2024-01-01T00:00:00Z&quot;,
    end_time=&quot;2024-02-01T00:00:00Z&quot;,
    gateway_url=&quot;http://gw&quot;,
)
</code></pre>
<p><code>Runner</code>를 사용하면 각 <code>TagQueryNode</code>가 등록된 후 자동으로 Gateway와 통신하여
해당 태그에 매칭되는 큐를 조회하고 이벤트 설명자와 토큰을 설정한 뒤 WebSocket 구독을 시작합니다. 백테스트와 dry-run 모드에서도 Gateway URL을 지정하지 않으면 <code>RuntimeError</code>가 발생합니다.</p>
<h2 id="cli">CLI 도움말</h2>
<p>CLI에 대한 전체 옵션은 다음 명령으로 확인할 수 있습니다.</p>
<pre><code class="language-bash">python -m qmtl.sdk --help
</code></pre>
<h2 id="_4">캐시 조회</h2>
<p><code>compute_fn</code>에는 <code>NodeCache.view()</code>가 반환하는 <strong>읽기 전용 CacheView</strong> 객체가
전달됩니다. 이전 버전에서 사용하던 <code>NodeCache.snapshot()</code>은 내부 구현으로
변경되었으므로 전략 코드에서 직접 호출하지 않아야 합니다.</p>
<p>PyArrow 기반 캐시를 사용하려면 환경 변수 <code>QMTL_ARROW_CACHE=1</code>을 설정합니다.
만료 슬라이스 정리는 <code>QMTL_CACHE_EVICT_INTERVAL</code>(초) 값에 따라 주기적으로 실행되며
Ray가 설치되어 있으면 Ray Actor에서 동작합니다. CLI의 <code>--no-ray</code> 옵션을 사용하면 계산 함수 실행과
캐시 정리가 모두 스레드 기반으로 전환됩니다.</p>
<h2 id="cache-backends">Cache Backends</h2>
<p>기본 <code>NodeCache</code>는 각 <code>(upstream_id, interval)</code> 쌍을 링 버퍼로 관리합니다. 누락된
타임스탬프는 <code>missing_flags()</code>로 확인하고 마지막 버킷은 <code>last_timestamps()</code>로 조회할
수 있습니다. <code>get_slice()</code>는 리스트 또는 <code>xarray.DataArray</code> 형태의 윈도우 데이터를
반환합니다.</p>
<p>PyArrow가 설치되어 있고 <code>QMTL_ARROW_CACHE=1</code>을 설정하면 <code>NodeCacheArrow</code> 백엔드가
활성화됩니다. 만료된 슬라이스는 <code>QMTL_CACHE_EVICT_INTERVAL</code> 초 간격으로 제거되며
Ray가 켜져 있고 <code>--no-ray</code>를 사용하지 않는 경우 Actor에서, 그렇지 않으면 백그라운드 스레드에서 실행됩니다.</p>
<p>캐시 조회 수는 <code>qmtl.sdk.metrics</code> 모듈의 <code>cache_read_total</code> 및
<code>cache_last_read_timestamp</code> 지표로 모니터링할 수 있습니다. 다음과 같이 메트릭 서버를
시작하면 <code>/metrics</code> 경로에서 값을 확인할 수 있습니다.</p>
<pre><code class="language-python">from qmtl.sdk import metrics

metrics.start_metrics_server(port=8000)
</code></pre>
<h2 id="performance-metrics">Performance Metrics</h2>
<p><code>alpha_performance_node</code>는 Sharpe, 최대 낙폭, CAR/MDD 등의 성과 지표를 계산합니다.
<code>alpha_history_node</code>와 조합하면 수익률 누적과 성과 계산을 분리하여 로직과 테스트를
병렬로 개발할 수 있습니다.</p>
<pre><code class="language-python">from qmtl.transforms import alpha_history_node, alpha_performance_from_history_node

history = alpha_history_node(alpha, window=30)
perf = alpha_performance_from_history_node(history)
</code></pre>
<h2 id="custom-alpha-indicators-with-history">Custom Alpha Indicators with History</h2>
<p><code>alpha_indicator_with_history</code> wraps a function that returns an
<code>{"alpha": value}</code> mapping and automatically maintains a sliding
window of recent alpha values:</p>
<pre><code class="language-python">from qmtl.indicators import alpha_indicator_with_history

history = alpha_indicator_with_history(my_alpha_fn, inputs=[src], window=30)
</code></pre>
<h2 id="alpha-to-signal-pipeline">Alpha-to-Signal Pipeline</h2>
<p><code>TradeSignalGeneratorNode</code> converts an alpha history into actionable trade
signals. Combine it with <code>alpha_history_node</code> to produce orders based on the
latest alpha value:</p>
<pre><code class="language-python">from qmtl.transforms import TradeSignalGeneratorNode

history = alpha_history_node(alpha, window=30)
signal = TradeSignalGeneratorNode(
    history,
    long_threshold=0.5,
    short_threshold=-0.5,
)
</code></pre>
<h2 id="executionmodel">ExecutionModel과 비용 조정 성과 지표</h2>
<p><code>ExecutionModel</code>은 커미션, 슬리피지, 시장 임팩트 등 현실적인 체결 비용을 추정합니다.
생성된 <code>ExecutionFill</code> 목록을 <code>alpha_performance_node</code>에 전달하면 비용을 반영한 성과 지표를 계산할 수 있습니다.</p>
<pre><code class="language-python">from qmtl.sdk.execution_modeling import (
    ExecutionModel, OrderSide, OrderType, create_market_data_from_ohlcv,
)
from qmtl.transforms import TradeSignalGeneratorNode, alpha_history_node
from qmtl.transforms.alpha_performance import alpha_performance_node

history = alpha_history_node(alpha, window=30)
signal = TradeSignalGeneratorNode(history, long_threshold=0.5, short_threshold=-0.5)

model = ExecutionModel(commission_rate=0.0005, base_slippage_bps=2.0)
market = create_market_data_from_ohlcv(
    timestamp=0,
    open_price=100,
    high=101,
    low=99,
    close=100,
    volume=10_000,
)

fill = model.simulate_execution(
    order_id=&quot;demo&quot;,
    symbol=&quot;TEST&quot;,
    side=OrderSide.BUY,
    quantity=100,
    order_type=OrderType.MARKET,
    requested_price=100.0,
    market_data=market,
    timestamp=0,
)

metrics = alpha_performance_node(
    returns,
    execution_fills=[fill],
    use_realistic_costs=True,
)
</code></pre>
<h2 id="order-results-and-external-executors">Order Results and External Executors</h2>
<p><code>TradeOrderPublisherNode</code> turns trade signals into standardized order
payloads. The <code>Runner</code> examines node results and delivers these orders to
external systems through a series of hooks:</p>
<ol>
<li><code>Runner.set_trade_execution_service(service)</code> forwards the order to a
   custom object exposing <code>post_order</code>.</li>
<li><code>Runner.set_trade_order_http_url(url)</code> posts the order to an HTTP
   endpoint as JSON.</li>
<li><code>Runner.set_trade_order_kafka_topic(topic)</code> publishes the order to a
   Kafka topic using the configured producer.</li>
</ol>
<p>Combine these hooks with a simple pipeline to convert alpha values into
standardized orders:</p>
<pre><code class="language-python">from qmtl.transforms import (
    alpha_history_node,
    TradeSignalGeneratorNode,
    TradeOrderPublisherNode,
)

history = alpha_history_node(alpha, window=30)
signal = TradeSignalGeneratorNode(history, long_threshold=0.5, short_threshold=-0.5)
orders = TradeOrderPublisherNode(signal, topic=&quot;orders&quot;)

from qmtl.sdk import Runner, TradeExecutionService

service = TradeExecutionService(&quot;http://broker&quot;)
Runner.set_trade_execution_service(service)
Runner.set_trade_order_http_url(&quot;http://endpoint&quot;)
Runner.set_trade_order_kafka_topic(&quot;orders&quot;)
</code></pre>
<p>See <a href="../qmtl/examples/strategies/order_pipeline_strategy.py"><code>order_pipeline_strategy.py</code></a>
for a complete runnable example. If none of these targets are configured the
order is ignored, allowing strategies to remain agnostic about the actual
execution backend.</p>
<h2 id="_5">백필 작업</h2>
<p>노드 캐시를 과거 데이터로 초기화하는 방법은
<a href="backfill.md">backfill.md</a> 문서를 참고하세요.</p>
<p><strong>Related:</strong> <a href="../">Overview</a>, <a href="./">SDK Tutorial</a>, <a href="../strategy_workflow/">Strategy Workflow</a></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.expand", "navigation.path"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>